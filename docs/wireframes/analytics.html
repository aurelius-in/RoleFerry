<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - RoleFerry</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" href="../assets/roleferry_trans.png">
    <style>
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #ffffff;
            min-height: 100vh;
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        .document-container { 
            max-width: 1000px; 
            margin: 0 auto; 
            padding: 2rem;
        }
        .document-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .document-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, #10b981, #2563eb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        .document-header p {
            color: #9ca3af;
            font-size: 1.1rem;
        }
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        .metric-card {
            background: rgba(31, 41, 55, 0.8);
            border: 1px solid #374151;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }
        .metric-card h3 {
            color: #f59e0b;
            font-size: 0.9rem;
            margin: 0 0 0.5rem 0;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .metric-card p {
            font-size: 2rem;
            font-weight: bold;
            color: #ffffff;
            margin: 0;
        }
        .section {
            background: rgba(31, 41, 55, 0.8);
            border: 1px solid #374151;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .section h2 {
            color: #ffffff;
            font-size: 1.5rem;
            margin: 0 0 1.5rem 0;
            border-bottom: 2px solid #2563eb;
            padding-bottom: 0.5rem;
            display: inline-block;
        }
        .campaign-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            background: transparent;
        }
        .campaign-table th, .campaign-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #4b5563;
            color: #d1d5db;
        }
        .campaign-table th {
            color: #ffffff;
            font-weight: 600;
            cursor: pointer;
        }
        .campaign-table th:hover {
            color: #2563eb;
        }
        .campaign-table tbody tr:hover {
            background: rgba(37, 99, 235, 0.1);
        }
        .export-button {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 1.5rem;
            display: inline-block;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        .export-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }
        .back-button {
            position: fixed;
            top: 2rem;
            left: 2rem;
            padding: 12px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            border: 2px solid rgba(74, 144, 226, 0.5);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        .back-button:hover {
            background: rgba(74, 144, 226, 0.9);
        }
        .back-button svg {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        @media (max-width: 768px) {
            .document-container { padding: 1rem; }
            .back-button {
                position: relative;
                top: auto;
                left: auto;
                margin-bottom: 1rem;
                display: inline-flex;
            }
            .analytics-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="document-container">
        <a href="../wireframes.html" class="back-button" title="Back to Path">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
            </svg>
        </a>

        <div class="document-header">
            <h1>Analytics Dashboard</h1>
            <p>Track your client acquisition and campaign performance.</p>
        </div>

        <div class="analytics-grid">
            <div class="metric-card">
                <h3>Overall Reply Rate</h3>
                <p style="color: #10b981;">15.2%</p>
            </div>
            <div class="metric-card">
                <h3>Meetings Booked</h3>
                <p style="color: #3b82f6;">8</p>
            </div>
            <div class="metric-card">
                <h3>Opportunities</h3>
                <p style="color: #8b5cf6;">12</p>
            </div>
            <div class="metric-card">
                <h3>Pipeline Value</h3>
                <p style="color: #f59e0b;">$120,000</p>
            </div>
        </div>

        <div class="section">
            <h2>Campaign Performance</h2>
            <div style="background: rgba(17, 24, 39, 0.5); padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
                <canvas id="campaignChart" width="400" height="150"></canvas>
            </div>
            <div style="overflow-x: auto;">
                <table class="campaign-table" id="campaignTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable(0)">Campaign Name</th>
                            <th onclick="sortTable(1)">Replies</th>
                            <th onclick="sortTable(2)">Meetings</th>
                            <th onclick="sortTable(3)">Opportunities</th>
                            <th onclick="sortTable(4)">Reply Rate</th>
                            <th onclick="sortTable(5)">Meeting Rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Charleston Pilot - Q1 2026</td>
                            <td>15</td>
                            <td>5</td>
                            <td>3</td>
                            <td>18.7%</td>
                            <td>6.2%</td>
                        </tr>
                        <tr>
                            <td>Austin Tech Expansion - Q1 2026</td>
                            <td>10</td>
                            <td>3</td>
                            <td>2</td>
                            <td>12.5%</td>
                            <td>3.7%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button class="export-button" onclick="exportTableToCSV('campaign-performance.csv')">Export to CSV</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        function sortTable(n) {
            var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
            table = document.getElementById("campaignTable");
            switching = true;
            dir = "asc";
            while (switching) {
                switching = false;
                rows = table.rows;
                for (i = 1; i < (rows.length - 1); i++) {
                    shouldSwitch = false;
                    x = rows[i].getElementsByTagName("TD")[n];
                    y = rows[i + 1].getElementsByTagName("TD")[n];
                    if (dir == "asc") {
                        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                            shouldSwitch = true;
                            break;
                        }
                    } else if (dir == "desc") {
                        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                            shouldSwitch = true;
                            break;
                        }
                    }
                }
                if (shouldSwitch) {
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                    switching = true;
                    switchcount++;
                } else {
                    if (switchcount == 0 && dir == "asc") {
                        dir = "desc";
                        switching = true;
                    }
                }
            }
        }

        function exportTableToCSV(filename) {
            var csv = [];
            var rows = document.querySelectorAll("table tr");
            for (var i = 0; i < rows.length; i++) {
                var row = [], cols = rows[i].querySelectorAll("td, th");
                for (var j = 0; j < cols.length; j++) 
                    row.push(cols[j].innerText);
                csv.push(row.join(","));
            }
            downloadCSV(csv.join("\n"), filename);
        }

        function downloadCSV(csv, filename) {
            var csvFile;
            var downloadLink;
            csvFile = new Blob([csv], {type: "text/csv"});
            downloadLink = document.createElement("a");
            downloadLink.download = filename;
            downloadLink.href = window.URL.createObjectURL(csvFile);
            downloadLink.style.display = "none";
            document.body.appendChild(downloadLink);
            downloadLink.click();
        }

        var ctx = document.getElementById('campaignChart').getContext('2d');
        Chart.defaults.color = '#d1d5db';
        Chart.defaults.borderColor = '#374151';
        
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Charleston Pilot', 'Austin Tech Expansion'],
                datasets: [{
                    label: 'Reply Rate (%)',
                    data: [18.7, 12.5],
                    backgroundColor: 'rgba(245, 158, 11, 0.5)',
                    borderColor: 'rgba(245, 158, 11, 1)',
                    borderWidth: 1
                },
                {
                    label: 'Meeting Rate (%)',
                    data: [6.2, 3.7],
                    backgroundColor: 'rgba(16, 185, 129, 0.5)',
                    borderColor: 'rgba(16, 185, 129, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: '#374151'
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff'
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>