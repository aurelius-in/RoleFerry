<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Compose - RoleFerry</title>
<link rel="stylesheet" href="../styles.css" />
<link rel="stylesheet" href="responsive.css" />
<link rel="icon" href="../assets/roleferry_trans.png" />
<style>
  .tab-container {
    min-height: 100vh;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
    padding: 2rem;
  }
  .tab-header {
    text-align: center;
    margin-bottom: 2rem;
  }
  .tab-title {
    font-size: 2.5rem;
    font-weight: 700;
    background: linear-gradient(45deg, #8b5cf6, #ef4444);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .compose-grid {
      display: grid;
      grid-template-columns: 300px 1fr 300px;
      gap: 2rem;
      max-width: 1600px;
      margin: 0 auto;
  }
  .left-column, .right-column {
      background: rgba(31, 41, 55, 0.5);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid #374151;
      height: fit-content;
  }
  .left-column h3, .right-column h3 {
      color: #ffffff;
      margin: 0 0 1.5rem 0;
      font-size: 1.2rem;
  }
  .people-list {
      list-style: none;
      padding: 0;
      margin: 0;
  }
  .person-item {
      padding: 1rem;
      border-radius: 8px;
      background: rgba(17, 24, 39, 0.8);
      margin-bottom: 1rem;
      cursor: pointer;
      border: 1px solid #4b5563;
      transition: all 0.3s ease;
  }
  .person-item:hover, .person-item.active {
      background: #2563eb;
      border-color: #2563eb;
  }
  .person-item h4 {
      color: #ffffff;
      margin: 0 0 0.25rem 0;
      font-size: 1rem;
  }
  .person-item h4 {
      color: #ffffff;
      margin: 0 0 0.25rem 0;
      font-size: 1rem;
      display: flex;
      align-items: center;
  }
  .person-item h4 img {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      margin-right: 0.75rem;
  }
  .person-item p {
      color: #9ca3af;
      margin: 0;
      font-size: 0.85rem;
  }
  .center-column .email-preview {
    background: #ffffff;
    border-radius: 8px;
    padding: 2rem;
    color: #1f2937;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    line-height: 1.6;
    min-height: 600px;
  }
  .email-preview .subject {
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
  }
  .variables-list, .preflight-list {
      list-style: none;
      padding: 0;
      margin: 0;
  }
  .variables-list li {
      background: rgba(0, 0, 0, 0.3);
      padding: 4px 8px;
      border-radius: 4px;
      color: #10b981;
      margin-bottom: 0.5rem;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
  }
  .preflight-list li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 0;
      border-bottom: 1px solid #374151;
  }
  .preflight-list .status {
      font-weight: bold;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
  }
  .status.green {
      background-color: #10b981;
      color: white;
  }
  .status.yellow {
      background-color: #f59e0b;
      color: white;
  }
  .status.red {
      background-color: #ef4444;
      color: white;
  }
  .preflight-list .label { color: #d1d5db; }

  .back-button {
    position: fixed;
    top: 2rem;
    left: 2rem;
    padding: 12px;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    border: 2px solid rgba(74, 144, 226, 0.5);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    font-weight: 600;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .back-button:hover {
    background: rgba(74, 144, 226, 0.9);
  }
  .progress-indicator {
    position: fixed;
    top: 5rem;
    right: 2rem;
    background: rgba(0, 0, 0, 0.9);
    padding: 1rem;
    border-radius: 12px;
    color: white;
    font-weight: 600;
    border: 2px solid rgba(74, 144, 226, 0.5);
    z-index: 100;
  }
  /* Responsive Design */
  @media (max-width: 1200px) {
    .compose-grid {
      grid-template-columns: 1fr;
      max-width: 800px;
    }
  }
  @media (max-width: 768px) {
    .tab-container {
      padding: 1rem;
    }
    .back-button {
      position: relative;
      top: auto;
      left: auto;
      margin-bottom: 1rem;
      display: inline-block;
    }
    .progress-indicator {
      position: relative;
      top: auto;
      right: auto;
      margin-bottom: 1rem;
    }
  }
</style>
</head>
<body>
    <div class="tab-container">
    <!-- Navigation -->
    <a href="../wireframes.html" class="back-button" title="Back to Path">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="width: 24px; height: 24px; fill: white;">
        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
      </svg>
    </a>
    
    <div class="progress-indicator">
      <div>Step 11 of 12</div>
    </div>

    <div class="tab-header">
      <h1 class="tab-title">Compose & Campaign</h1>
    </div>

    <div class="compose-grid">
        <!-- Left Column: People -->
        <div class="left-column">
            <h3>Recipients</h3>
            <ul class="people-list">
                <li class="person-item active" data-email-body="<p>Hi Jane,</p><p>I was excited to see the Senior Software Engineer role at TechCorp, as my experience in scaling microservices on AWS has led to a 99.9% uptime and 20% cost reduction in previous roles. I noticed your team is focused on improving data processing efficiency, and I believe my background is a strong match for this challenge.</p><p>TechCorp's innovative approach to data analytics is impressive, and I'm confident I can contribute to your team's success.</p><p>Would you be open to a brief chat next week?</p><p>Best,<br>Oliver</p>">
                    <h4><img src="../assets/techcorp-logo.png" alt="">Jane Doe</h4>
                    <p>VP of Engineering • TechCorp</p>
                </li>
                <li class="person-item" data-email-body="<p>Hi John,</p><p>Following up on my application for the Senior Software Engineer role. My background in building secure, scalable APIs aligns well with the job description, and I'm particularly interested in TechCorp's work in the fintech space.</p><p>I'm confident my skills can help your team accelerate its product roadmap.</p><p>Best,<br>Oliver</p>">
                    <h4><img src="../assets/techcorp-logo.png" alt="">John Smith</h4>
                    <p>Senior Engineering Manager • TechCorp</p>
                </li>
            </ul>
        </div>

        <!-- Center Column: Email Preview -->
        <div class="center-column">
            <div class="email-preview" contenteditable="true">
                <div class="subject">Following up on the Senior Software Engineer role</div>
                <div id="email-body-content">
                    <p>Hi Jane,</p>
                    <p>I was excited to see the Senior Software Engineer role at TechCorp, as my experience in scaling microservices on AWS has led to a 99.9% uptime and 20% cost reduction in previous roles. I noticed your team is focused on improving data processing efficiency, and I believe my background is a strong match for this challenge.</p>
                    <p>TechCorp's innovative approach to data analytics is impressive, and I'm confident I can contribute to your team's success.</p>
                    <p>Would you be open to a brief chat next week?</p>
                    <p>Best,<br>Oliver</p>
                </div>
            </div>
        </div>

        <!-- Right Column: Variables & Pre-flight -->
        <div class="right-column">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <button class="btn-primary" style="background: #10b981; border:none; padding:12px 24px; border-radius:8px; color:white; font-weight:bold; cursor:pointer;">Launch Campaign</button>
                <a href="dry-run.html" class="btn-secondary" style="padding: 12px 24px; background: #4b5563; text-decoration: none; color: white; border-radius: 8px; font-weight:bold;">Dry Run</a>
            </div>
            <h3>Available Variables</h3>
            <ul class="variables-list">
                <li>{{contact_name}}</li>
                <li>{{contact_title}}</li>
                <li>{{jd_summary}}</li>
                <li>{{pain_point_1}}</li>
                <li>{{solution_1}}</li>
                <li>{{metric_1}}</li>
                <li>{{offer_text}}</li>
                <li>{{company_summary}}</li>
                <li>{{recent_news}}</li>
            </ul>
            <h3 style="margin-top: 2rem;">Pre-flight Deliverability</h3>
            <ul class="preflight-list">
                <li>
                    <span class="label">Domain Health</span>
                    <span class="status green">Good</span>
                </li>
                <li>
                    <span class="label">Mailbox Warm-up</span>
                    <span class="status green">Active</span>
                </li>
                <li>
                    <span class="label">Spam Words</span>
                    <span class="status green">0 Found</span>
                </li>
                <li>
                    <span class="label">Link Safety</span>
                    <span class="status green">Secure</span>
                </li>
                <li>
                    <span class="label">Image/Text Ratio</span>
                    <span class="status yellow">Optimal</span>
                </li>
                <li>
                    <span class="label">Sending Limits</span>
                    <span class="status green">OK</span>
                </li>
            </ul>
        </div>
    </div>

  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const peopleList = document.querySelector('.people-list');
        const emailBodyContent = document.getElementById('email-body-content');
        const items = Array.from(peopleList.querySelectorAll('.person-item'));

        function setActiveItem(item) {
            items.forEach(i => i.classList.remove('active'));
            item.classList.add('active');
            emailBodyContent.innerHTML = item.dataset.emailBody;
        }

        peopleList.addEventListener('click', (e) => {
            const targetItem = e.target.closest('.person-item');
            if (targetItem) {
                setActiveItem(targetItem);
            }
        });

        document.addEventListener('keydown', (e) => {
            const currentActive = peopleList.querySelector('.person-item.active');
            let currentIndex = items.indexOf(currentActive);

            if (e.key === 'j') { // Down
                e.preventDefault();
                const nextIndex = (currentIndex + 1) % items.length;
                setActiveItem(items[nextIndex]);
            } else if (e.key === 'k') { // Up
                e.preventDefault();
                const prevIndex = (currentIndex - 1 + items.length) % items.length;
                setActiveItem(items[prevIndex]);
            }
        });
    });
  </script>

</body>
</html>